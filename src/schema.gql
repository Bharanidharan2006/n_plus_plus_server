# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type User {
  id: String!
  email: String!
  pendingDates: [DateTime!]!
  rollNo: Float!
  dob: String!
  gender: String!
  masterPassword: String!
  password: String
  userName: String!
  currentSemester: Int!
  role: String!
  refreshTokenVersion: Int!
  notificationToken: String
  phoneNo: String!
  createdAt: DateTime
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type RegisterUserOutputUser {
  id: String!
  email: String!
  rollNo: Float!
  userName: String!
  currentSemester: Float!
  refreshTokenVersion: Int!
  role: String!
  pendingDates: [DateTime!]!
  phoneNo: String!
  notificationToken: String
  createdAt: DateTime
}

type registerUserOutput {
  user: RegisterUserOutputUser!
  masterPassword: String!
}

type LoginResponse {
  accessToken: String!
  refreshToken: String!
}

type Week {
  id: String!
  weekNo: Int!
  startDate: DateTime!
  endDate: DateTime!
  timeTable: [String!]!
  saturdayStatus: Float!
  createdAt: DateTime
}

type AttendanceRecord {
  date: DateTime!
  periods: [Int!]!
  monthNumber: Float!
  isUpdated: Boolean!
  attended: [Boolean!]!
}

type Attendance {
  id: String!
  semesterId: String!
  studentRollNo: Int!
  subjectId: String!
  totalContactHours: Float!
  attendedContactHours: Float!
  attendancePercentage: Float!
  attendanceRecords: [AttendanceRecord!]!
}

type Subject {
  id: String!
  semesterId: String!
  subjectCode: String!
  subjectTitle: String!
  credits: Float!
  contactHoursPerWeek: Float!
  teacherName: String!
}

type GetAttendancePercentageOutput {
  attendance: Attendance!
  subjectDetails: Subject!
}

type Query {
  methoddd: Int!
  getAllWeeks: [Week!]!
  getLatestWeek: Week!
  getUser(token: String!): User!
  getSubjectDetails: [Subject!]!
  getSubjectInfo(id: String!): Subject!
  getAttendanceRecord(rollNo: Float!, subjectId: String!): Attendance!
  getAttendancePercentage(rollNo: Float!): [GetAttendancePercentageOutput!]!
  getScheduleByDate(date: DateTime!): [String!]!
  updateAttendanceForAll: String!
  createAttendanceRecords: String!
  sendMarkAttendanceNotification: String!
}

type Mutation {
  createWeekTimeTable(input: createWeekTimeTableDto!): Week!
  editWeekTimeTable(input: editWeekTimeTableDto!): Week!
  deleteWeekTimeTable(id: String!): String!
  registerUser(input: registerUserInput!): registerUserOutput!
  loginUser(rollno: Float!, password: String!): LoginResponse!
  refreshToken(refreshToken: String!): LoginResponse!
  logout(rollno: Float!): Boolean!
  changePassword(input: changePasswordInput!): Boolean!
  registerUserDev(input: registerUserInput!): String!
  updateAttendance(input: UpdateAttendanceDto!): Boolean!
  updateDailyAttendance(input: UpdateDailyAttendanceDto!): Boolean!
  updatePushNotificationToken(notificationToken: String!, rollNo: Float!): Boolean!
  markAttendanceFromNotification(actionId: String!): Boolean!
}

input createWeekTimeTableDto {
  startDate: DateTime!
  endDate: DateTime!
  timeTable: [String!]!
  saturdayStatus: Float!
  weekNo: Float!
}

input editWeekTimeTableDto {
  id: String!
  saturdayStatus: Float!
  timeTable: [String!]!
}

input registerUserInput {
  email: String!
  phoneNo: String!
  rollNo: Float!
  userName: String!
  currentSemester: Float!
  gender: String!
  dob: String!
}

input changePasswordInput {
  rollno: Float!
  password: String!
  masterPassword: String!
}

input UpdateAttendanceDto {
  subjectCode: String!
  date: DateTime!
  periods: [Int!]!
  attendanceData: [IndividualRecord!]!
}

input IndividualRecord {
  rollNo: Int!
  attended: [Boolean!]!
}

input UpdateDailyAttendanceDto {
  date: String!
  rollNo: Float!
  attendanceData: [Boolean!]!
}